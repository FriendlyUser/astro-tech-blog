<!DOCTYPE html><html lang="en"><head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>How I implemented a stock screener in python part I - Astro Tech Blog</title><meta name="description" content="A stock screener is a tool that helps you find stocks that meet your criteria. In this post I will show you how I implemented a stock screener in python."><meta name="author" content="David Li"><link rel="alternate" type="application/rss+xml" href="/rss.xml"><link rel="icon" type="image/x-icon" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2479144310234386" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119155027-6"></script><script type="text/javascript">
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        try {
          let i;
          let slides = document.getElementsByClassName('mySlides');
          let dots = document.getElementsByClassName('demo');
          let captionText = document.getElementById('caption');
          if (n > slides.length) {
            slideIndex = 1;
          }
          if (n < 1) {
            slideIndex = slides.length;
          }
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none';
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(' active', '');
          }
          slides[slideIndex - 1].style.display = 'block';
          dots[slideIndex - 1].className += ' active';
          captionText.innerHTML = dots[slideIndex - 1].alt;
        } catch (err) {
          // do nothing here
        }
      }
    </script><!-- Google Tag Manager --><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/index.43f032cc.css" />
<style type="text/css">@media print{.no-print,.no-print *{display:none!important}}
</style><script type="module" src="/_astro/hoisted.0ec709ce.js"></script></head><body class="bg-slate-900 text-gray-100"><!-- Google Tag Manager (noscript) --><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8P5P8FQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!-- End Google Tag Manager (noscript) --><div class="mx-auto max-w-screen-lg px-3 py-6"><div class="flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between"><a href="/"><div class="flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent"><svg class="mr-1 h-10 w-10 stroke-cyan-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><rect x="3" y="12" width="6" height="8" rx="1"></rect><rect x="9" y="8" width="6" height="12" rx="1"></rect><rect x="15" y="4" width="6" height="16" rx="1"></rect><path d="M4 20h14"></path></svg>David&#x27;s Blog</div></a><nav><ul class="flex gap-x-3 font-medium text-gray-200"><li class="hover:text-white"><a href="/posts">Blogs</a></li><li class="hover:text-white"><a href="https://github.com/FriendlyUser/astro-tech-blog">GitHub</a></li><li class="hover:text-white"><a href="/photos">Photos</a></li></ul></nav></div></div><div data-pagefind-body><div class="mx-auto max-w-screen-lg px-3 py-6"><div><h1 class="text-center text-3xl font-bold">How I implemented a stock screener in python part I</h1><div class="mt-2 text-center text-sm text-gray-400">By <!-- -->David Li<!-- --> on <!-- -->Fri, 11 April 2024</div><div class="flex place-content-center pt-2"><div class="rounded-md px-2 py-1 text-xs font-semibold bg-green-400 text-green-900"> <a href="/tags/python" style="padding-right:3px"> <category>python<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/stocks" style="padding-right:3px"> <category>stocks<!-- --> </category></a></div> </div><div class="mx-auto mt-5 max-w-prose"><div class="aspect-w-3 aspect-h-2"><img class="h-full w-full rounded-lg object-cover object-center" src="/imgs/2023/1231025858.png" loading="lazy"/></div><div class="prose prose-invert mt-8 prose-img:rounded-lg"><content><p>A stock screener is an important tool for investors and traders because it allows them to quickly filter through thousands of stocks in the market based on specific criteria, such as financial ratios, industry sector, market capitalization, and more. Here are a few reasons why a stock screener is important:</p>
<ol>
<li>Time-saving: A stock screener helps to save time and effort by allowing investors to quickly find potential investment opportunities that meet their specific criteria. Instead of manually sifting through thousands of stocks, a stock screener can narrow down the options to a more manageable list.</li>
<li>Customization: Every investor has unique investment goals and preferences, and a stock screener allows investors to customize their search to find stocks that meet their specific needs. This customization can include filtering by specific financial metrics, like price-to-earnings ratios or dividend yields, or by more qualitative criteria, like industry or growth potential.</li>
<li>Opportunity identification: A stock screener can help investors identify investment opportunities that may have been overlooked otherwise. By allowing investors to filter stocks based on certain criteria, they can find stocks that are undervalued or have potential for future growth.</li>
<li>Risk management: A stock screener can also help investors manage risk by allowing them to filter out stocks that may not meet their risk tolerance level or by identifying stocks that have low volatility or are more defensive in nature.</li>
</ol>
<p>Overall, a stock screener is an essential tool for any investor or trader looking to find potential investment opportunities in the market. It can save time, help with customization, identify investment opportunities, and manage risk.</p>
<pre is:raw="" class="astro-code monokai" style="background-color: #272822; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F8F8F2"> </span><span style="color: #F92672">from</span><span style="color: #F8F8F2"> abc </span><span style="color: #F92672">import</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">ABC</span><span style="color: #F8F8F2">, abstractmethod</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">class</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E; text-decoration: underline">ScannerInterface</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">ABC</span><span style="color: #F8F8F2">):</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #88846F">"""Each scanner has an interface and get_match for the ticker"""</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #A6E22E">@abstractmethod</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">def</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">main_func</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">self</span><span style="color: #F8F8F2">):</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">pass</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #A6E22E">@abstractmethod</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">def</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">get_match</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">self</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">ticker</span><span style="color: #F8F8F2">):</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">pass</span><span style="color: #F8F8F2"> </span></span></code></pre>
<p>This is a Python code defining an abstract base class (ABC) called <code>ScannerInterface</code>. The <code>ScannerInterface</code> class has two abstract methods: <code>main_func</code> and <code>get_match</code>. Abstract methods are methods that are declared but do not have an implementation in the base class. They must be implemented by any class that inherits from this base class.</p>
<p>The purpose of this code is to define a common interface for different types of scanners, each with its own implementation of the <code>main_func</code> and <code>get_match</code> methods. By using an abstract base class, the interface can be standardized, making it easier to write code that can work with different types of scanners.</p>
<p>The <code>main_func</code> method is left abstract so that it can be implemented by different types of scanners depending on their specific functionality. The <code>get_match</code> method, on the other hand, is a method that all scanner classes must implement to get a match for the ticker they are scanning for.</p>
<p>Note that this code alone does not define a concrete scanner class. Instead, it provides a blueprint that other classes can inherit from to create concrete scanner classes. Any class that inherits from the <code>ScannerInterface</code> class must implement both <code>main_func</code> and <code>get_match</code> methods to be considered a valid implementation of the interface.</p>
<pre is:raw="" class="astro-code monokai" style="background-color: #272822; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F8F8F2"> </span><span style="color: #88846F">"""</span></span>
<span class="line"><span style="color: #88846F">  Grab stocks from cad tickers </span></span>
<span class="line"><span style="color: #88846F">"""</span></span>
<span class="line"><span style="color: #F92672">import</span><span style="color: #F8F8F2"> pandas </span><span style="color: #F92672">as</span><span style="color: #F8F8F2"> pd</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">class</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E; text-decoration: underline">TickerControllerV2</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #88846F">"""</span></span>
<span class="line"><span style="color: #88846F">    Grabs cad_tickers dataframes and normalized them</span></span>
<span class="line"><span style="color: #88846F">    """</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">def</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF">__init__</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">self</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">cfg</span><span style="color: #F8F8F2">: </span><span style="color: #66D9EF; font-style: italic">dict</span><span style="color: #F8F8F2">):</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #88846F">"""</span></span>
<span class="line"><span style="color: #88846F">        Extract yahoo finance tickers from website</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">        Consider using hardcoded csvs sheets for the tickers to</span></span>
<span class="line"><span style="color: #88846F">        increase speed, no need to grab all data dynamically.</span></span>
<span class="line"><span style="color: #88846F">        """</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #FD971F">self</span><span style="color: #F8F8F2">.yf_tickers </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> []</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #88846F"># import csv from github</span></span>
<span class="line"><span style="color: #F8F8F2">        ticker_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> pd.read_csv(</span></span>
<span class="line"><span style="color: #F8F8F2">            </span><span style="color: #E6DB74">"https://raw.githubusercontent.com/FriendlyUser/cad_tickers_list/main/static/latest/stocks.csv"</span></span>
<span class="line"><span style="color: #F8F8F2">        )</span></span>
<span class="line"><span style="color: #F8F8F2">        tickers_config </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> cfg.get(</span><span style="color: #E6DB74">"tickers_config"</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">        us_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> pd.DataFrame()</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> tickers_config </span><span style="color: #F92672">!=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">None</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">            industries </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> tickers_config.get(</span><span style="color: #E6DB74">"industries"</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">            </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> industries </span><span style="color: #F92672">!=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">None</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">                ticker_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ticker_df[ticker_df[</span><span style="color: #E6DB74">"industry"</span><span style="color: #F8F8F2">].isin(industries)]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">            us_cfg </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> tickers_config.get(</span><span style="color: #E6DB74">"us_tickers"</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">            </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> us_cfg </span><span style="color: #F92672">!=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">None</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">                </span><span style="color: #88846F"># apply filters</span></span>
<span class="line"><span style="color: #F8F8F2">                </span><span style="color: #88846F"># same format as above</span></span>
<span class="line"><span style="color: #F8F8F2">                us_tickers_url </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_cfg.get(</span><span style="color: #E6DB74">"url"</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">                us_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2">  pd.read_csv(us_tickers_url)</span></span>
<span class="line"><span style="color: #F8F8F2">                </span><span style="color: #88846F"># redo filtering if I need more filters,</span></span>
<span class="line"><span style="color: #F8F8F2">                </span><span style="color: #88846F"># iterate across object property</span></span>
<span class="line"><span style="color: #F8F8F2">                price_filter </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_cfg.get(</span><span style="color: #E6DB74">"price"</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">                us_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_df[us_df[</span><span style="color: #E6DB74">"price"</span><span style="color: #F8F8F2">] </span><span style="color: #F92672">&#x3C;</span><span style="color: #F8F8F2"> price_filter]</span></span>
<span class="line"><span style="color: #F8F8F2">                market_cap_filter </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_cfg.get(</span><span style="color: #E6DB74">"market_cap"</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">                us_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_df[us_df[</span><span style="color: #E6DB74">"MarketCap"</span><span style="color: #F8F8F2">] </span><span style="color: #F92672">&#x3C;</span><span style="color: #F8F8F2"> price_filter]</span></span>
<span class="line"><span style="color: #F8F8F2">                </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> industries </span><span style="color: #F92672">!=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">None</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">                    us_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_df[us_df[</span><span style="color: #E6DB74">"industry"</span><span style="color: #F8F8F2">].isin(industries)]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #88846F"># get symbols from tickers</span></span>
<span class="line"><span style="color: #F8F8F2">        ytickers_series </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ticker_df.apply(</span><span style="color: #FD971F">self</span><span style="color: #F8F8F2">.ex_to_yahoo_ex, </span><span style="color: #FD971F; font-style: italic">axis</span><span style="color: #F92672">=</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">        ytickers </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ytickers_series.tolist()</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> us_df.empty </span><span style="color: #F92672">==</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">False</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">            us_ytickers_series </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_df.apply(</span><span style="color: #FD971F">self</span><span style="color: #F8F8F2">.ex_to_yahoo_ex, </span><span style="color: #FD971F; font-style: italic">axis</span><span style="color: #F92672">=</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">            us_ytickers </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_ytickers_series.tolist()</span></span>
<span class="line"><span style="color: #F8F8F2">            ytickers </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> [</span><span style="color: #F92672">*</span><span style="color: #F8F8F2">ytickers, </span><span style="color: #F92672">*</span><span style="color: #F8F8F2">us_ytickers]</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #FD971F">self</span><span style="color: #F8F8F2">.yf_tickers </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ytickers</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">def</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">get_ytickers</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">self</span><span style="color: #F8F8F2">) -> </span><span style="color: #66D9EF; font-style: italic">list</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #FD971F">self</span><span style="color: #F8F8F2">.yf_tickers</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #A6E22E">@</span><span style="color: #66D9EF; font-style: italic">staticmethod</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">def</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">ex_to_yahoo_ex</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">row</span><span style="color: #F8F8F2">: pd.Series) -> </span><span style="color: #66D9EF; font-style: italic">str</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #88846F">"""</span></span>
<span class="line"><span style="color: #88846F">        Parameters:</span></span>
<span class="line"><span style="color: #88846F">          ticker: ticker from pandas dataframe from cad_tickers</span></span>
<span class="line"><span style="color: #88846F">          exchange: what exchange the ticker is for</span></span>
<span class="line"><span style="color: #88846F">        Returns:</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">        """</span></span>
<span class="line"><span style="color: #F8F8F2">        ticker </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">str</span><span style="color: #F8F8F2">(row[</span><span style="color: #E6DB74">"symbol"</span><span style="color: #F8F8F2">])</span></span>
<span class="line"><span style="color: #F8F8F2">        exchange </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> row[</span><span style="color: #E6DB74">"exShortName"</span><span style="color: #F8F8F2">]</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> exchange </span><span style="color: #F92672">==</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">"CSE"</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">            </span><span style="color: #88846F"># strip :CNX from symbol</span></span>
<span class="line"><span style="color: #F8F8F2">            ticker </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ticker.replace(</span><span style="color: #E6DB74">":CNX"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">""</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">        </span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #88846F"># Missing a exchange code</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> exchange </span><span style="color: #F92672">in</span><span style="color: #F8F8F2"> [</span><span style="color: #E6DB74">"OTCPK"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"NYSE"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"NASDAQ"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"NYE"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"NCM"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"NSM"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"NGS"</span><span style="color: #F8F8F2">]:</span></span>
<span class="line"><span style="color: #F8F8F2">            ticker </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ticker.replace(</span><span style="color: #E6DB74">":US"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">""</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">        ticker </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ticker.replace(</span><span style="color: #E6DB74">":US"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">""</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #88846F"># 1min, 5min, 15min, 30min, 60min, daily, weekly, monthly</span></span>
<span class="line"><span style="color: #F8F8F2">        switcher </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span><span style="color: #E6DB74">"TSXV"</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">"V"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"TSX"</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">"TO"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"CSE"</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">"CN"</span><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #F8F8F2">        yahoo_ex </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> switcher.get(exchange, </span><span style="color: #AE81FF">None</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> yahoo_ex </span><span style="color: #F92672">!=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">None</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">            </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">f</span><span style="color: #E6DB74">"</span><span style="color: #AE81FF">{</span><span style="color: #F8F8F2">ticker</span><span style="color: #AE81FF">}</span><span style="color: #E6DB74">.</span><span style="color: #AE81FF">{</span><span style="color: #F8F8F2">yahoo_ex</span><span style="color: #AE81FF">}</span><span style="color: #E6DB74">"</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> ticker</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">if</span><span style="color: #F8F8F2"> __name__ </span><span style="color: #F92672">==</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">"__main__"</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">import</span><span style="color: #F8F8F2"> json</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">with</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF">open</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">"cfg/penny_stocks.json"</span><span style="color: #F8F8F2">) </span><span style="color: #F92672">as</span><span style="color: #F8F8F2"> file_:</span></span>
<span class="line"><span style="color: #F8F8F2">        cfg </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> json.load(file_)</span></span>
<span class="line"><span style="color: #F8F8F2">        ticker_controller </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> TickerControllerV2(cfg)</span></span>
<span class="line"><span style="color: #F8F8F2">        ticker_list </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ticker_controller.get_ytickers()</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #66D9EF">print</span><span style="color: #F8F8F2">(ticker_list)</span></span>
<span class="line"><span style="color: #F8F8F2"> </span></span></code></pre>
<p>This is a Python code defining a class called <code>TickerControllerV2</code>, which is used to retrieve tickers for Canadian and US stocks from a CSV file and normalize them for use in a financial application.</p>
<p>The <code>__init__</code> method initializes an instance of the class by reading a CSV file containing the stock tickers and filtering them based on the configuration provided in the <code>cfg</code> parameter. The tickers can be filtered by industry, price, and market capitalization.</p>
<p>The <code>get_ytickers</code> method returns a list of stock tickers that have been normalized and are ready to be used in a financial application.</p>
<p>The <code>ex_to_yahoo_ex</code> method is a static method that takes a row from the ticker data frame as input and returns the corresponding ticker symbol in the format required by Yahoo Finance. This method is used to normalize the tickers before they are used in the application.</p>
<p>The code includes a main block that loads the configuration from a JSON file and creates an instance of the <code>TickerControllerV2</code> class to retrieve the tickers. The tickers are then printed to the console for testing purposes.</p>
<p>Overall, this code provides a convenient way to retrieve and normalize Canadian and US stock tickers for use in a financial application. It can be easily modified to support other types of tickers or to add additional filters based on other criteria.</p>
<pre is:raw="" class="astro-code monokai" style="background-color: #272822; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F8F8F2"> </span><span style="color: #88846F">"""</span></span>
<span class="line"><span style="color: #88846F">  Grab stocks from cad tickers </span></span>
<span class="line"><span style="color: #88846F">"""</span></span>
<span class="line"><span style="color: #F92672">import</span><span style="color: #F8F8F2"> pandas </span><span style="color: #F92672">as</span><span style="color: #F8F8F2"> pd</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">class</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E; text-decoration: underline">TickerControllerV2</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #88846F">"""</span></span>
<span class="line"><span style="color: #88846F">    Grabs cad_tickers dataframes and normalized them</span></span>
<span class="line"><span style="color: #88846F">    """</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">def</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF">__init__</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">self</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">cfg</span><span style="color: #F8F8F2">: </span><span style="color: #66D9EF; font-style: italic">dict</span><span style="color: #F8F8F2">):</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #88846F">"""</span></span>
<span class="line"><span style="color: #88846F">        Extract yahoo finance tickers from website</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">        Consider using hardcoded csvs sheets for the tickers to</span></span>
<span class="line"><span style="color: #88846F">        increase speed, no need to grab all data dynamically.</span></span>
<span class="line"><span style="color: #88846F">        """</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #FD971F">self</span><span style="color: #F8F8F2">.yf_tickers </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> []</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #88846F"># import csv from github</span></span>
<span class="line"><span style="color: #F8F8F2">        ticker_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> pd.read_csv(</span></span>
<span class="line"><span style="color: #F8F8F2">            </span><span style="color: #E6DB74">"https://raw.githubusercontent.com/FriendlyUser/cad_tickers_list/main/static/latest/stocks.csv"</span></span>
<span class="line"><span style="color: #F8F8F2">        )</span></span>
<span class="line"><span style="color: #F8F8F2">        tickers_config </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> cfg.get(</span><span style="color: #E6DB74">"tickers_config"</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">        us_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> pd.DataFrame()</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> tickers_config </span><span style="color: #F92672">!=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">None</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">            industries </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> tickers_config.get(</span><span style="color: #E6DB74">"industries"</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">            </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> industries </span><span style="color: #F92672">!=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">None</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">                ticker_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ticker_df[ticker_df[</span><span style="color: #E6DB74">"industry"</span><span style="color: #F8F8F2">].isin(industries)]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">            us_cfg </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> tickers_config.get(</span><span style="color: #E6DB74">"us_tickers"</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">            </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> us_cfg </span><span style="color: #F92672">!=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">None</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">                </span><span style="color: #88846F"># apply filters</span></span>
<span class="line"><span style="color: #F8F8F2">                </span><span style="color: #88846F"># same format as above</span></span>
<span class="line"><span style="color: #F8F8F2">                us_tickers_url </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_cfg.get(</span><span style="color: #E6DB74">"url"</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">                us_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2">  pd.read_csv(us_tickers_url)</span></span>
<span class="line"><span style="color: #F8F8F2">                </span><span style="color: #88846F"># redo filtering if I need more filters,</span></span>
<span class="line"><span style="color: #F8F8F2">                </span><span style="color: #88846F"># iterate across object property</span></span>
<span class="line"><span style="color: #F8F8F2">                price_filter </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_cfg.get(</span><span style="color: #E6DB74">"price"</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">                us_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_df[us_df[</span><span style="color: #E6DB74">"price"</span><span style="color: #F8F8F2">] </span><span style="color: #F92672">&#x3C;</span><span style="color: #F8F8F2"> price_filter]</span></span>
<span class="line"><span style="color: #F8F8F2">                market_cap_filter </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_cfg.get(</span><span style="color: #E6DB74">"market_cap"</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">                us_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_df[us_df[</span><span style="color: #E6DB74">"MarketCap"</span><span style="color: #F8F8F2">] </span><span style="color: #F92672">&#x3C;</span><span style="color: #F8F8F2"> price_filter]</span></span>
<span class="line"><span style="color: #F8F8F2">                </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> industries </span><span style="color: #F92672">!=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">None</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">                    us_df </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_df[us_df[</span><span style="color: #E6DB74">"industry"</span><span style="color: #F8F8F2">].isin(industries)]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #88846F"># get symbols from tickers</span></span>
<span class="line"><span style="color: #F8F8F2">        ytickers_series </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ticker_df.apply(</span><span style="color: #FD971F">self</span><span style="color: #F8F8F2">.ex_to_yahoo_ex, </span><span style="color: #FD971F; font-style: italic">axis</span><span style="color: #F92672">=</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">        ytickers </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ytickers_series.tolist()</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> us_df.empty </span><span style="color: #F92672">==</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">False</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">            us_ytickers_series </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_df.apply(</span><span style="color: #FD971F">self</span><span style="color: #F8F8F2">.ex_to_yahoo_ex, </span><span style="color: #FD971F; font-style: italic">axis</span><span style="color: #F92672">=</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">            us_ytickers </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> us_ytickers_series.tolist()</span></span>
<span class="line"><span style="color: #F8F8F2">            ytickers </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> [</span><span style="color: #F92672">*</span><span style="color: #F8F8F2">ytickers, </span><span style="color: #F92672">*</span><span style="color: #F8F8F2">us_ytickers]</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #FD971F">self</span><span style="color: #F8F8F2">.yf_tickers </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ytickers</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">def</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">get_ytickers</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">self</span><span style="color: #F8F8F2">) -> </span><span style="color: #66D9EF; font-style: italic">list</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #FD971F">self</span><span style="color: #F8F8F2">.yf_tickers</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #A6E22E">@</span><span style="color: #66D9EF; font-style: italic">staticmethod</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">def</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">ex_to_yahoo_ex</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">row</span><span style="color: #F8F8F2">: pd.Series) -> </span><span style="color: #66D9EF; font-style: italic">str</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #88846F">"""</span></span>
<span class="line"><span style="color: #88846F">        Parameters:</span></span>
<span class="line"><span style="color: #88846F">          ticker: ticker from pandas dataframe from cad_tickers</span></span>
<span class="line"><span style="color: #88846F">          exchange: what exchange the ticker is for</span></span>
<span class="line"><span style="color: #88846F">        Returns:</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">        """</span></span>
<span class="line"><span style="color: #F8F8F2">        ticker </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">str</span><span style="color: #F8F8F2">(row[</span><span style="color: #E6DB74">"symbol"</span><span style="color: #F8F8F2">])</span></span>
<span class="line"><span style="color: #F8F8F2">        exchange </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> row[</span><span style="color: #E6DB74">"exShortName"</span><span style="color: #F8F8F2">]</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> exchange </span><span style="color: #F92672">==</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">"CSE"</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">            </span><span style="color: #88846F"># strip :CNX from symbol</span></span>
<span class="line"><span style="color: #F8F8F2">            ticker </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ticker.replace(</span><span style="color: #E6DB74">":CNX"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">""</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">        </span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #88846F"># Missing a exchange code</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> exchange </span><span style="color: #F92672">in</span><span style="color: #F8F8F2"> [</span><span style="color: #E6DB74">"OTCPK"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"NYSE"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"NASDAQ"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"NYE"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"NCM"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"NSM"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"NGS"</span><span style="color: #F8F8F2">]:</span></span>
<span class="line"><span style="color: #F8F8F2">            ticker </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ticker.replace(</span><span style="color: #E6DB74">":US"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">""</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">        ticker </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ticker.replace(</span><span style="color: #E6DB74">":US"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">""</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #88846F"># 1min, 5min, 15min, 30min, 60min, daily, weekly, monthly</span></span>
<span class="line"><span style="color: #F8F8F2">        switcher </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span><span style="color: #E6DB74">"TSXV"</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">"V"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"TSX"</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">"TO"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"CSE"</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">"CN"</span><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #F8F8F2">        yahoo_ex </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> switcher.get(exchange, </span><span style="color: #AE81FF">None</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> yahoo_ex </span><span style="color: #F92672">!=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">None</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">            </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">f</span><span style="color: #E6DB74">"</span><span style="color: #AE81FF">{</span><span style="color: #F8F8F2">ticker</span><span style="color: #AE81FF">}</span><span style="color: #E6DB74">.</span><span style="color: #AE81FF">{</span><span style="color: #F8F8F2">yahoo_ex</span><span style="color: #AE81FF">}</span><span style="color: #E6DB74">"</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> ticker</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">if</span><span style="color: #F8F8F2"> __name__ </span><span style="color: #F92672">==</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">"__main__"</span><span style="color: #F8F8F2">:</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">import</span><span style="color: #F8F8F2"> json</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">with</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF">open</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">"cfg/penny_stocks.json"</span><span style="color: #F8F8F2">) </span><span style="color: #F92672">as</span><span style="color: #F8F8F2"> file_:</span></span>
<span class="line"><span style="color: #F8F8F2">        cfg </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> json.load(file_)</span></span>
<span class="line"><span style="color: #F8F8F2">        ticker_controller </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> TickerControllerV2(cfg)</span></span>
<span class="line"><span style="color: #F8F8F2">        ticker_list </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> ticker_controller.get_ytickers()</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #66D9EF">print</span><span style="color: #F8F8F2">(ticker_list)</span></span>
<span class="line"><span style="color: #F8F8F2"> </span></span></code></pre>
<p>This code defines a class <code>TickerControllerV2</code> that reads stock ticker data from a CSV file and applies some filters to the data based on a configuration file. The resulting tickers are normalized to a format compatible with Yahoo Finance. The main function demonstrates the use of the class by loading a configuration file, creating a <code>TickerControllerV2</code> instance, and printing the list of resulting tickers.</p>
<p>The code could be improved in a few ways:</p>
<ul>
<li>It would be a good idea to add comments and docstrings to explain what the code is doing and how to use it.</li>
<li>The <code>ex_to_yahoo_ex</code> function is quite long and complex. It might be worth breaking it down into smaller functions to make it more readable.</li>
<li>There is an error in the market cap filtering code for the US tickers. The filter is using the <code>price_filter</code> variable instead of <code>market_cap_filter</code>.</li>
<li>The <code>if tickers_config != None</code> statement can be simplified to <code>if tickers_config:</code> for readability.</li>
<li>It might be a good idea to handle errors that might occur when fetching the CSV file from GitHub.</li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><a href="https://github.com/FriendlyUser/stock_screener/tree/master">https://github.com/FriendlyUser/stock_screener/tree/master</a></li>
</ul></content></div></div></div></div><div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print flex w-full"><form class="max-w-lg" action="https://formspree.io/f/davidli012345@gmail.com" method="POST"><div class="-mx-3 mb-6 flex flex-wrap"><div class="mb-6 w-full px-3 md:mb-0 md:w-1/2"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-first-name">First Name</label><input class="mb-3 block w-full appearance-none rounded py-3 px-4 leading-tight text-gray-700 focus:bg-white focus:outline-none" id="grid-first-name" type="text" placeholder="Jane"/></div><div class="w-full px-3 md:w-1/2"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-last-name">Last Name</label><input class="block w-full appearance-none rounded border border-gray-200  py-3 px-4 leading-tight text-gray-700 focus:border-gray-500 focus:bg-white focus:outline-none" id="grid-last-name" type="text" placeholder="Doe"/></div></div><div class="-mx-3 mb-6 flex flex-wrap"><div class="w-full px-3"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-password">E-mail</label><input class="mb-3 block w-full appearance-none rounded border py-3 px-4 leading-tight text-gray-700 focus:border-gray-500 focus:bg-white focus:outline-none" id="email" type="email"/></div></div><div class="-mx-3 mb-6 flex flex-wrap"><div class="w-full px-3"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-password">Message</label><textarea class="no-resize mb-3 block h-48 w-full resize-none appearance-none rounded border border-gray-200 py-3 px-4 leading-tight text-gray-700 focus:border-gray-500 focus:bg-white focus:outline-none" id="message"></textarea></div></div><div class="md:flex md:items-center"><div class="md:w-1/3"><button class="ml-2 shrink-0 rounded-full bg-gradient-to-br from-sky-500 to-cyan-400 px-3 py-1 text-sm font-medium text-gray-700 hover:from-sky-700 hover:to-cyan-600 focus:outline-none focus:ring-2 focus:ring-cyan-600/50" type="submit">Send</button></div><div class="md:w-2/3"></div></div></form><div class="ml-3 max-w-lg bg-slate-300"><link href="/_pagefind/pagefind-ui.css" rel="stylesheet"><script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script><div id="search" class="ml-3 p-4"></div></div></div></div></div><div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print border-t border-gray-600 pt-5"><div class="text-sm text-gray-200">© Copyright <!-- -->2024<!-- --> by <!-- -->Astro Tech Blog<!-- -->. Built with ♥ by<!-- --> <a class="text-cyan-400 hover:underline" href="https://github.com/FriendlyUser" target="_blank" rel="noopener noreferrer">FriendlyUser</a>. Last updated on <!-- -->2024-02-15<!-- -->.</div></div><script src="https://cdn.botpress.cloud/webchat/v0/inject.js"></script><script src="https://mediafiles.botpress.cloud/0df54034-3318-451a-aed0-3923a4ee25a5/webchat/config.js" defer=""></script></div></body></html>