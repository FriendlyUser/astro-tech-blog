<!DOCTYPE html><html lang="en"><head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Introduction to docker with express - Astro Tech Blog</title><meta name="description" content="Docker is a popular platform for building, deploying, and running applications in containers."><meta name="author" content="David Li"><link rel="alternate" type="application/rss+xml" href="/rss.xml"><link rel="icon" type="image/x-icon" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2479144310234386" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119155027-6"></script><script type="text/javascript">
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        try {
          let i;
          let slides = document.getElementsByClassName('mySlides');
          let dots = document.getElementsByClassName('demo');
          let captionText = document.getElementById('caption');
          if (n > slides.length) {
            slideIndex = 1;
          }
          if (n < 1) {
            slideIndex = slides.length;
          }
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none';
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(' active', '');
          }
          slides[slideIndex - 1].style.display = 'block';
          dots[slideIndex - 1].className += ' active';
          captionText.innerHTML = dots[slideIndex - 1].alt;
        } catch (err) {
          // do nothing here
        }
      }
    </script><!-- Google Tag Manager --><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/index.43f032cc.css" />
<style type="text/css">@media print{.no-print,.no-print *{display:none!important}}
</style><script type="module" src="/_astro/hoisted.0ec709ce.js"></script></head><body class="bg-slate-900 text-gray-100"><!-- Google Tag Manager (noscript) --><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8P5P8FQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!-- End Google Tag Manager (noscript) --><div class="mx-auto max-w-screen-lg px-3 py-6"><div class="flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between"><a href="/"><div class="flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent"><svg class="mr-1 h-10 w-10 stroke-cyan-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><rect x="3" y="12" width="6" height="8" rx="1"></rect><rect x="9" y="8" width="6" height="12" rx="1"></rect><rect x="15" y="4" width="6" height="16" rx="1"></rect><path d="M4 20h14"></path></svg>David&#x27;s Blog</div></a><nav><ul class="flex gap-x-3 font-medium text-gray-200"><li class="hover:text-white"><a href="/posts">Blogs</a></li><li class="hover:text-white"><a href="https://github.com/FriendlyUser/astro-tech-blog">GitHub</a></li><li class="hover:text-white"><a href="/photos">Photos</a></li></ul></nav></div></div><div data-pagefind-body><div class="mx-auto max-w-screen-lg px-3 py-6"><div><h1 class="text-center text-3xl font-bold">Introduction to docker with express</h1><div class="mt-2 text-center text-sm text-gray-400">By <!-- -->David Li<!-- --> on <!-- -->Monday, 15 Feb 2023 13:00:00 GMT</div><div class="flex place-content-center pt-2"><div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/js" style="padding-right:3px"> <category>js<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/introToJs" style="padding-right:3px"> <category>introToJs<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/node" style="padding-right:3px"> <category>node<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/express" style="padding-right:3px"> <category>express<!-- --> </category></a></div> </div><div class="mx-auto mt-5 max-w-prose"><div class="aspect-w-3 aspect-h-2"><img class="h-full w-full rounded-lg object-cover object-center" src="/imgs/2023/2269624161_forest.png" loading="lazy"/></div><div class="prose prose-invert mt-8 prose-img:rounded-lg"><content><p>See my previous post on <a href="https://friendlyuser.github.io/posts/tech/js/getting_started_with_node_and_express/">Getting started with nodejs and express</a></p>
<p>Docker is a popular platform for building, deploying, and running
applications in containers. A container is a lightweight, standalone,
and executable package of an application that includes everything the
application needs to run, such as the code, libraries, and dependencies.</p>
<p>Containers provide a number of benefits over traditional approaches to
building and deploying applications, such as virtual machines. Some of
the key benefits of using Docker and containers include:</p>
<ul>
<li>
<p>Portability: Containers are isolated from the host system and can
run on any machine that has Docker installed, regardless of the host
operating system or system configuration. This makes it easy to
deploy and run applications on different environments, such as local
development, staging, and production.</p>
</li>
<li>
<p>Consistency: Containers provide a consistent and predictable runtime
environment for applications, which helps to ensure that
applications will behave the same way no matter where they are
deployed. This can reduce the time and effort required to
troubleshoot issues and ensure that applications are working as
expected.</p>
</li>
<li>
<p>Scalability: Containers are lightweight and can be easily scaled up
or down to meet the changing needs of an application. This makes it
easy to manage the resources that an application uses, and allows
applications to be quickly and easily adapted to handle changes in
workload or traffic.</p>
</li>
<li>
<p>Efficiency: Containers use less resources than traditional virtual
machines, which makes it possible to run more applications on the
same hardware. This can help to reduce the cost and complexity of
running and managing applications, and can improve the overall
efficiency of an application’s infrastructure.</p>
</li>
</ul>
<p>In summary, Docker is a platform for building, deploying, and running
applications in containers. Containers provide a number of benefits over
traditional approaches, such as portability, consistency, scalability,
and efficiency. This makes Docker a useful tool for building and
deploying modern applications.</p>
<p>Here is an example of a Dockerfile that can be used to create a Docker
image for a simple Express server:</p>
<pre is:raw="" class="astro-code monokai" style="background-color: #272822; overflow-x: auto;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color: #F92672">Copy</span><span style="color: #F8F8F2"> code</span></span>
<span class="line"><span style="color: #88846F"># Use the official Node.js 10 LTS image as the base image</span></span>
<span class="line"><span style="color: #F92672">FROM</span><span style="color: #F8F8F2"> node:10-lts</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F"># Create a directory for the application</span></span>
<span class="line"><span style="color: #F92672">RUN</span><span style="color: #F8F8F2"> mkdir -p /usr/src/app</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F"># Set the working directory to the application directory</span></span>
<span class="line"><span style="color: #F92672">WORKDIR</span><span style="color: #F8F8F2"> /usr/src/app</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F"># Copy the package.json and package-lock.json files to the working directory</span></span>
<span class="line"><span style="color: #F92672">COPY</span><span style="color: #F8F8F2"> package*.json ./</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F"># Install the dependencies</span></span>
<span class="line"><span style="color: #F92672">RUN</span><span style="color: #F8F8F2"> npm install</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F"># Copy the application source code to the working directory</span></span>
<span class="line"><span style="color: #F92672">COPY</span><span style="color: #F8F8F2"> . .</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F"># Expose port 3000 so it can be accessed from the outside</span></span>
<span class="line"><span style="color: #F92672">EXPOSE</span><span style="color: #F8F8F2"> 3000</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F"># Start the Express server when the container is started</span></span>
<span class="line"><span style="color: #F92672">CMD</span><span style="color: #F8F8F2"> [</span><span style="color: #E6DB74">"npm"</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">"start"</span><span style="color: #F8F8F2">]</span></span></code></pre>
<p>Your file directory should look like</p>
<p>In this Dockerfile, the official Node.js 10 LTS image is used as the
base image. The package.json and package-lock.json files are copied to
the working directory and the dependencies are installed using npm. The
application source code is then copied to the working directory, and
port 3000 is exposed so it can be accessed from the outside. Finally,
the npm start command is specified as the default command for the
container, which will start the Express server when the container is
started.</p>
<p>To build a Docker image using this Dockerfile, you can run the following
command from the directory where the Dockerfile is located:</p>
<pre is:raw="" class="astro-code monokai" style="background-color: #272822; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F8F8F2">docker build -t my-express-app .</span></span></code></pre>
<p>This will build a Docker image with the name my-express-app using the
instructions in the Dockerfile. You can then run the image as a Docker
container using the following command:</p>
<pre is:raw="" class="astro-code monokai" style="background-color: #272822; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F8F8F2">docker run -p 3000:3000 my-express-app</span></span></code></pre>
<p>This will start a Docker container based on the my-express-app image,
and will map port 3000 on the host to port 3000 in the container. The
Express server will start automatically when the container is started,
and you will be able to access the server at <a href="http://localhost:3000">http://localhost:3000</a>.</p>
<h2 id="references">References</h2>
<p>This content came from a book I generated using chatGPT and a lot of editing.</p>
<p>View on the source material see amazon <a href="https://www.amazon.com/dp/B0BSL14M71">https://www.amazon.com/dp/B0BSL14M71</a></p>
<p>For a free copy, please view <a href="https://friendlyuser.github.io/assets/pdfs/introToJs.pdf">https://friendlyuser.github.io/assets/pdfs/introToJs.pdf</a></p></content></div></div></div></div><div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print flex w-full"><form class="max-w-lg" action="https://formspree.io/f/davidli012345@gmail.com" method="POST"><div class="-mx-3 mb-6 flex flex-wrap"><div class="mb-6 w-full px-3 md:mb-0 md:w-1/2"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-first-name">First Name</label><input class="mb-3 block w-full appearance-none rounded py-3 px-4 leading-tight text-gray-700 focus:bg-white focus:outline-none" id="grid-first-name" type="text" placeholder="Jane"/></div><div class="w-full px-3 md:w-1/2"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-last-name">Last Name</label><input class="block w-full appearance-none rounded border border-gray-200  py-3 px-4 leading-tight text-gray-700 focus:border-gray-500 focus:bg-white focus:outline-none" id="grid-last-name" type="text" placeholder="Doe"/></div></div><div class="-mx-3 mb-6 flex flex-wrap"><div class="w-full px-3"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-password">E-mail</label><input class="mb-3 block w-full appearance-none rounded border py-3 px-4 leading-tight text-gray-700 focus:border-gray-500 focus:bg-white focus:outline-none" id="email" type="email"/></div></div><div class="-mx-3 mb-6 flex flex-wrap"><div class="w-full px-3"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-password">Message</label><textarea class="no-resize mb-3 block h-48 w-full resize-none appearance-none rounded border border-gray-200 py-3 px-4 leading-tight text-gray-700 focus:border-gray-500 focus:bg-white focus:outline-none" id="message"></textarea></div></div><div class="md:flex md:items-center"><div class="md:w-1/3"><button class="ml-2 shrink-0 rounded-full bg-gradient-to-br from-sky-500 to-cyan-400 px-3 py-1 text-sm font-medium text-gray-700 hover:from-sky-700 hover:to-cyan-600 focus:outline-none focus:ring-2 focus:ring-cyan-600/50" type="submit">Send</button></div><div class="md:w-2/3"></div></div></form><div class="ml-3 max-w-lg bg-slate-300"><link href="/_pagefind/pagefind-ui.css" rel="stylesheet"><script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script><div id="search" class="ml-3 p-4"></div></div></div></div></div><div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print border-t border-gray-600 pt-5"><div class="text-sm text-gray-200">© Copyright <!-- -->2024<!-- --> by <!-- -->Astro Tech Blog<!-- -->. Built with ♥ by<!-- --> <a class="text-cyan-400 hover:underline" href="https://github.com/FriendlyUser" target="_blank" rel="noopener noreferrer">FriendlyUser</a>. Last updated on <!-- -->2024-02-15<!-- -->.</div></div><script src="https://cdn.botpress.cloud/webchat/v0/inject.js"></script><script src="https://mediafiles.botpress.cloud/0df54034-3318-451a-aed0-3923a4ee25a5/webchat/config.js" defer=""></script></div></body></html>