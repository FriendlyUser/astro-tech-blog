<!DOCTYPE html><html lang="en"> <head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.QW52Ox2j.js"></script><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Implementing basic pokedex part I - FriendlyUsers Tech Blog</title><meta name="description" content="Pokemon app using flutter"><meta name="author" content="David Li"><link rel="alternate" type="application/rss+xml" href="/rss.xml"><link rel="icon" type="image/x-icon" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2479144310234386" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119155027-6"></script><script type="module">(function(e,n,r,t,m){e[t]=e[t]||[],e[t].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var g=n.getElementsByTagName(r)[0],a=n.createElement(r),s="";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+m+s,g.parentNode.insertBefore(a,g)})(window,document,"script","dataLayer","GTM-K8P5P8FQ");</script><script type="text/javascript">
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        try {
          let i;
          let slides = document.getElementsByClassName('mySlides');
          let dots = document.getElementsByClassName('demo');
          let captionText = document.getElementById('caption');
          if (n > slides.length) {
            slideIndex = 1;
          }
          if (n < 1) {
            slideIndex = slides.length;
          }
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none';
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(' active', '');
          }
          slides[slideIndex - 1].style.display = 'block';
          dots[slideIndex - 1].className += ' active';
          captionText.innerHTML = dots[slideIndex - 1].alt;
        } catch (err) {
          // do nothing here
        }
      }
    </script><!-- Google Tag Manager --><script type="module">window.dataLayer=window.dataLayer||[];function a(){dataLayer.push(arguments)}a("js",new Date);a("config","UA-119155027-6");</script><!-- End Google Tag Manager --><link rel="stylesheet" href="/_astro/index.BvkiO192.css">
<style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}@media print{.no-print,.no-print *{display:none!important}}
</style></head> <body class="bg-slate-900 text-gray-100"> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K8P5P8FQ" height="0" width="0" style="display:none;visibility:hidden"></iframe> </noscript> <!-- End Google Tag Manager (noscript) --> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between"><a href="/"><div class="flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent"><svg class="mr-1 h-10 w-10 stroke-cyan-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><rect x="3" y="12" width="6" height="8" rx="1"></rect><rect x="9" y="8" width="6" height="12" rx="1"></rect><rect x="15" y="4" width="6" height="16" rx="1"></rect><path d="M4 20h14"></path></svg>David&#x27;s Blog</div></a><nav><ul class="flex gap-x-3 font-medium text-gray-200"><li class="hover:text-white"><a href="/posts" target="_self">Blogs</a></li><li class="hover:text-white"><a href="https://github.com/FriendlyUser/astro-tech-blog" target="_self">GitHub</a></li></ul></nav></div></div> <div data-pagefind-body>  <div class="mx-auto max-w-screen-lg px-3 py-6"><div><h1 class="text-center text-3xl font-bold">Implementing basic pokedex part I</h1><div class="mt-2 text-center text-sm text-gray-400">By <!-- -->David Li<!-- --> on <!-- -->Monday, 7 July 2023 13:00:00 GMT</div><div class="flex place-content-center pt-2"><div class="
      // Layout //      Shape (Updated
      to match your               &quot;For&quot; snippet) // Typography inline-flex max-w-full items-center rounded-full
      px-2.5 py-0.5                      text-xs font-medium
      bg-sky-400 text-sky-900          // Dynamic Color
      h-fit
    " style="height:fit-content"><span class="line-clamp-2 break-words text-left"> <a href="/tags/flutter" style="padding-right:3px"> <category>flutter<!-- --> </category></a></span></div> <div class="
      // Layout //      Shape (Updated
      to match your               &quot;For&quot; snippet) // Typography inline-flex max-w-full items-center rounded-full
      px-2.5 py-0.5                      text-xs font-medium
      bg-cyan-400 text-cyan-900          // Dynamic Color
      h-fit
    " style="height:fit-content"><span class="line-clamp-2 break-words text-left"> <a href="/tags/pokeapi" style="padding-right:3px"> <category>pokeapi<!-- --> </category></a></span></div> </div><div class="mx-auto mt-5 max-w-prose"><div class="aspect-h-2 aspect-w-3"><img class="h-full w-full rounded-lg object-cover object-center" src="/imgs/2023/music_album.jpg" loading="lazy"/></div><div class="prose prose-invert mt-8 prose-img:rounded-lg"><content> <p>This is a StatefulWidget class in the Flutter framework. It appears to define a screen for displaying details about a Pokémon. The widget takes an integer pokemonId as a parameter in its constructor, which is used to look up information about the Pokémon from an API. The createState() method returns an instance of a corresponding _PokemonDetailsScreenState class, which is the State associated with this widget.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="dart"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> 'package:flutter/material.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> 'package:pokedex/core/api/poke_api.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../components/pokemon_description.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../components/pokemon_metric.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../components/pokemon_stats.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../components/pokemon_type.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../components/pokemon_types.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../components/pokemon_header.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../core/utils/color_constant.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../core/utils/get_data.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../core/utils/image_constant.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../core/utils/logger.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../core/utils/poke_classes.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../core/utils/type_to_color.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../theme/app_decoration.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#9ECBFF"> '../theme/size_utils.dart'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#79B8FF"> PokemonDetailsScreen</span><span style="color:#F97583"> extends</span><span style="color:#79B8FF"> StatefulWidget</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#79B8FF">  int</span><span style="color:#E1E4E8"> pokemonId;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">  PokemonDetailsScreen</span><span style="color:#E1E4E8">({</span><span style="color:#79B8FF">Key</span><span style="color:#F97583">?</span><span style="color:#E1E4E8"> key, </span><span style="color:#F97583">required</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.pokemonId}) </span><span style="color:#F97583">:</span><span style="color:#79B8FF"> super</span><span style="color:#E1E4E8">(key</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> key);</span></span>
<span class="line"><span style="color:#6A737D">  // pokemon id param</span></span>
<span class="line"><span style="color:#F97583">  @override</span></span>
<span class="line"><span style="color:#79B8FF">  _PokemonDetailsScreenState</span><span style="color:#B392F0"> createState</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">=></span><span style="color:#79B8FF"> _PokemonDetailsScreenState</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="dart"><code><span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#79B8FF"> _PokemonDetailsScreenState</span><span style="color:#F97583"> extends</span><span style="color:#79B8FF"> State</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">PokemonDetailsScreen</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">  late</span><span style="color:#79B8FF"> Pokemon</span><span style="color:#E1E4E8"> pokemon;</span></span>
<span class="line"><span style="color:#79B8FF">  bool</span><span style="color:#E1E4E8"> isLoading </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  bool</span><span style="color:#E1E4E8"> isLoadingDetails </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  bool</span><span style="color:#E1E4E8"> isLoadingSpecies </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">  PokemonDetails</span><span style="color:#F97583">?</span><span style="color:#E1E4E8"> pokemonDetails;</span></span>
<span class="line"><span style="color:#79B8FF">  PokemonSpecies</span><span style="color:#F97583">?</span><span style="color:#E1E4E8"> pokemonSpecies;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  void</span><span style="color:#B392F0"> getSpecies</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">String</span><span style="color:#E1E4E8"> url) {</span></span>
<span class="line"><span style="color:#E1E4E8">    isLoadingSpecies </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">      fetchPokemonSpecies</span><span style="color:#E1E4E8">(url).</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">((resultat) {</span></span>
<span class="line"><span style="color:#6A737D">        // pokemonDetails = resultat;</span></span>
<span class="line"><span style="color:#E1E4E8">        pokemonSpecies </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> resultat;</span></span>
<span class="line"><span style="color:#B392F0">        setState</span><span style="color:#E1E4E8">(() {</span></span>
<span class="line"><span style="color:#E1E4E8">          isLoadingSpecies </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        });</span></span>
<span class="line"><span style="color:#E1E4E8">      }).</span><span style="color:#B392F0">catchError</span><span style="color:#E1E4E8">((error) {</span></span>
<span class="line"><span style="color:#79B8FF">        Logger</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(error);</span></span>
<span class="line"><span style="color:#B392F0">        setState</span><span style="color:#E1E4E8">(() {</span></span>
<span class="line"><span style="color:#E1E4E8">          isLoadingSpecies </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        });</span></span>
<span class="line"><span style="color:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#79B8FF">      Logger</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(error);</span></span>
<span class="line"><span style="color:#B392F0">      setState</span><span style="color:#E1E4E8">(() {</span></span>
<span class="line"><span style="color:#E1E4E8">        isLoadingSpecies </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#E1E4E8">    };</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  @override</span></span>
<span class="line"><span style="color:#F97583">  void</span><span style="color:#B392F0"> initState</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#79B8FF">    super</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">initState</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#6A737D">    // reading from json file</span></span>
<span class="line"><span style="color:#E1E4E8">    isLoading </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    isLoadingDetails </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">    readJson</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">((resultat) {</span></span>
<span class="line"><span style="color:#6A737D">      // use setState to update pokemon</span></span>
<span class="line"><span style="color:#E1E4E8">      pokemon </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> resultat[widget.pokemonId </span><span style="color:#F97583">-</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#B392F0">      setState</span><span style="color:#E1E4E8">(() {</span></span>
<span class="line"><span style="color:#E1E4E8">        isLoading </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#E1E4E8">    }).</span><span style="color:#B392F0">catchError</span><span style="color:#E1E4E8">((error) {</span></span>
<span class="line"><span style="color:#79B8FF">      Logger</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(error);</span></span>
<span class="line"><span style="color:#B392F0">      setState</span><span style="color:#E1E4E8">(() {</span></span>
<span class="line"><span style="color:#E1E4E8">        isLoading </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"><span style="color:#6A737D">    // LOADING SECOND DATA</span></span>
<span class="line"><span style="color:#B392F0">    fetchPokemonDetails</span><span style="color:#E1E4E8">(widget.pokemonId.</span><span style="color:#B392F0">toString</span><span style="color:#E1E4E8">()).</span><span style="color:#B392F0">then</span><span style="color:#E1E4E8">((resultat) {</span></span>
<span class="line"><span style="color:#6A737D">      // pokemonDetails = resultat;</span></span>
<span class="line"><span style="color:#E1E4E8">      pokemonDetails </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> resultat;</span></span>
<span class="line"><span style="color:#B392F0">      setState</span><span style="color:#E1E4E8">(() {</span></span>
<span class="line"><span style="color:#E1E4E8">        isLoadingDetails </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#6A737D">      // get species url</span></span>
<span class="line"><span style="color:#F97583">      var</span><span style="color:#E1E4E8"> speciesUrl </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pokemonDetails</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.species</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.url;</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (speciesUrl </span><span style="color:#F97583">!=</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#B392F0">        getSpecies</span><span style="color:#E1E4E8">(speciesUrl);</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    }).</span><span style="color:#B392F0">catchError</span><span style="color:#E1E4E8">((error) {</span></span>
<span class="line"><span style="color:#79B8FF">      Logger</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(error);</span></span>
<span class="line"><span style="color:#B392F0">      setState</span><span style="color:#E1E4E8">(() {</span></span>
<span class="line"><span style="color:#E1E4E8">        isLoadingDetails </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span></code></pre>
<p>This is the _PokemonDetailsScreenState class, which extends State and is associated with the PokemonDetailsScreen widget. It appears to be responsible for loading data about a Pokémon and its details and species from an API, and for displaying this data to the user.</p>
<p>The _PokemonDetailsScreenState class has several variables to store data about the Pokémon, including pokemon, pokemonDetails, and pokemonSpecies, as well as variables to track the loading status of this data.</p>
<p>The initState() method is a lifecycle method in Flutter that is called when the state associated with a StatefulWidget is first created. In this method, the _PokemonDetailsScreenState class is loading data about the Pokémon by calling the readJson() and fetchPokemonDetails() functions, which appear to read data from a JSON file and make an HTTP request to an API, respectively. When this data has been loaded, the setState() method is called to update the state of the widget and trigger a rebuild of the widget’s user interface.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="dart"><code><span class="line"></span>
<span class="line"><span style="color:#79B8FF">  Widget</span><span style="color:#B392F0"> buildAbilities</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> bgColor </span><span style="color:#F97583">=</span><span style="color:#B392F0"> getBgColor</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#6A737D">    // parse metrics from pokeomnDetails</span></span>
<span class="line"><span style="color:#6A737D">    // get all abilities</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> abilities </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pokemonDetails</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.abilities </span><span style="color:#F97583">??</span><span style="color:#E1E4E8"> [];</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (isLoadingDetails </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> CircularProgressIndicator</span><span style="color:#E1E4E8">(color</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> bgColor);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#6A737D">    // if no abilities, return empty container</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (abilities.isEmpty) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> Container</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#6A737D">    // map over abilities and make list of widgets</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> widgets </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> abilities.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">((e) {</span></span>
<span class="line"><span style="color:#F97583">      var</span><span style="color:#E1E4E8"> ability </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> e.ability</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">.name</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> PokemonAbility</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">        ability</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> ability,</span></span>
<span class="line"><span style="color:#E1E4E8">        bgColor</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> bgColor,</span></span>
<span class="line"><span style="color:#E1E4E8">      );</span></span>
<span class="line"><span style="color:#E1E4E8">    }).</span><span style="color:#B392F0">toList</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> Column</span><span style="color:#E1E4E8">(children</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> widgets);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">  Widget</span><span style="color:#B392F0"> buildDescription</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> bgColor </span><span style="color:#F97583">=</span><span style="color:#B392F0"> getBgColor</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">     if</span><span style="color:#E1E4E8"> (isLoadingSpecies </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> CircularProgressIndicator</span><span style="color:#E1E4E8">(color</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> bgColor);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (pokemonSpecies </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> Container</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (pokemonSpecies</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.flavorTextEntries </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> Container</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (pokemonSpecies</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.flavorTextEntries</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.isEmpty </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> Container</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> description </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pokemonSpecies</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.flavorTextEntries</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.flavorText;</span></span>
<span class="line"><span style="color:#6A737D">    // safe render, remove special characters</span></span>
<span class="line"><span style="color:#E1E4E8">    description </span><span style="color:#F97583">??=</span><span style="color:#9ECBFF"> " "</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">    // return description</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> Container</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">      width</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> MediaQuery</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">of</span><span style="color:#E1E4E8">(context).size.width,</span></span>
<span class="line"><span style="color:#E1E4E8">      height</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 100</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">      child</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> PokemonDescription</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">        description</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> description,</span></span>
<span class="line"><span style="color:#E1E4E8">      )</span></span>
<span class="line"><span style="color:#E1E4E8">    );</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span></code></pre>
<p>These are two helper functions in the _PokemonDetailsScreenState class: buildAbilities() and buildDescription().</p>
<p>The buildAbilities() function appears to build a list of widgets representing the abilities of a Pokémon. It first gets the list of abilities from the pokemonDetails variable. If this variable is null or the list of abilities is empty, the function returns an empty Container widget. If the list of abilities is not empty, the function maps over the list of abilities and creates a list of PokemonAbility widgets, which are passed the name of the ability and a background color. This list of widgets is then returned wrapped in a Column widget.</p>
<p>The buildDescription() function appears to build a widget displaying a description of a Pokémon. It first gets the description from the pokemonSpecies variable. If this variable is null, or if the flavorTextEntries field of the pokemonSpecies variable is null or empty, the function returns an empty Container widget. If the description is not null, the function creates and returns a PokemonDescription widget, which is passed the description.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="dart"><code><span class="line"></span>
<span class="line"><span style="color:#79B8FF">  Widget</span><span style="color:#B392F0"> buildMetrics</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#6A737D">    // if isLoadingDetails is true, return loaded</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> bgColor </span><span style="color:#F97583">=</span><span style="color:#B392F0"> getBgColor</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (pokemonDetails </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> CircularProgressIndicator</span><span style="color:#E1E4E8">(color</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> bgColor);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#6A737D">    // parse metrics from pokeomnDetails</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> weight </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pokemonDetails</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.weight;</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> height </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pokemonDetails</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.height;</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (isLoadingDetails </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> true</span><span style="color:#F97583"> ||</span><span style="color:#E1E4E8"> weight </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> null</span><span style="color:#F97583"> ||</span><span style="color:#E1E4E8"> height </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> CircularProgressIndicator</span><span style="color:#E1E4E8">(color</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> bgColor);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#79B8FF">    String</span><span style="color:#E1E4E8"> weightString </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> ""</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#79B8FF">    String</span><span style="color:#E1E4E8"> heightString </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> ""</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">    // hectograms to kg</span></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">      weightString </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "</span><span style="color:#9ECBFF">${(</span><span style="color:#79B8FF">weight</span><span style="color:#9ECBFF"> * </span><span style="color:#79B8FF">0.1</span><span style="color:#9ECBFF">).</span><span style="color:#B392F0">toStringAsPrecision</span><span style="color:#9ECBFF">(</span><span style="color:#79B8FF">1</span><span style="color:#9ECBFF">)}</span><span style="color:#9ECBFF"> kg"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">      heightString </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "</span><span style="color:#9ECBFF">${(</span><span style="color:#79B8FF">height</span><span style="color:#9ECBFF"> * </span><span style="color:#79B8FF">0.1</span><span style="color:#9ECBFF">).</span><span style="color:#B392F0">toStringAsPrecision</span><span style="color:#9ECBFF">(</span><span style="color:#79B8FF">1</span><span style="color:#9ECBFF">)}</span><span style="color:#9ECBFF"> m"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (e) {</span></span>
<span class="line"><span style="color:#79B8FF">      Logger</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(e);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> Row</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#6A737D">      // space between metrics</span></span>
<span class="line"><span style="color:#E1E4E8">      children</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#79B8FF">        PokemonMetric</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">          text</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> "weight"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          label</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> weightString,</span></span>
<span class="line"><span style="color:#E1E4E8">          icon</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> ImageConstant</span><span style="color:#E1E4E8">.imgMusic,</span></span>
<span class="line"><span style="color:#E1E4E8">        ),</span></span>
<span class="line"><span style="color:#79B8FF">        PokemonMetric</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">          text</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> "height"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">          label</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> heightString,</span></span>
<span class="line"><span style="color:#E1E4E8">          icon</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> ImageConstant</span><span style="color:#E1E4E8">.imgFrame,</span></span>
<span class="line"><span style="color:#E1E4E8">        ),</span></span>
<span class="line"><span style="color:#E1E4E8">      ],</span></span>
<span class="line"><span style="color:#E1E4E8">    );</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">  Widget</span><span style="color:#B392F0"> buildChart</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> bgColor </span><span style="color:#F97583">=</span><span style="color:#B392F0"> getBgColor</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (isLoadingDetails </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> CircularProgressIndicator</span><span style="color:#E1E4E8">(color</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> bgColor);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (pokemonDetails </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> Container</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (pokemonDetails</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.stats </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> Container</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> stats </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pokemonDetails</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.stats</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#6A737D">    // get all stats</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (stats </span><span style="color:#F97583">!=</span><span style="color:#79B8FF"> null</span><span style="color:#F97583"> &#x26;&#x26;</span><span style="color:#E1E4E8"> stats.isEmpty) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> Container</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#6A737D">    // map over stats and make seriesList</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> seriesList </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> stats</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">((e) {</span></span>
<span class="line"><span style="color:#F97583">      var</span><span style="color:#E1E4E8"> name </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> e.stat</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">.name</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">      var</span><span style="color:#E1E4E8"> baseStat </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> e</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">.baseStat</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> PokemonBaseStat</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">        name,</span></span>
<span class="line"><span style="color:#E1E4E8">        baseStat,</span></span>
<span class="line"><span style="color:#E1E4E8">      );</span></span>
<span class="line"><span style="color:#E1E4E8">    }).</span><span style="color:#B392F0">toList</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    // make sure seriesList is not null</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (seriesList </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> Container</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    // make series from stats</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> Column</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">      children</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#79B8FF"> Text</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Base Stats"</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#79B8FF">        BarChartWidget</span><span style="color:#E1E4E8">(points</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> seriesList, bgColor</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> bgColor)</span></span>
<span class="line"><span style="color:#E1E4E8">      ]</span></span>
<span class="line"><span style="color:#E1E4E8">    );</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">  Color</span><span style="color:#B392F0"> getBgColor</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#E1E4E8"> bgColor </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> ColorConstant</span><span style="color:#E1E4E8">.whiteA700;</span></span>
<span class="line"><span style="color:#6A737D">    // make sure pokemon is not null</span></span>
<span class="line"><span style="color:#6A737D">    // make sure pokemon type is set</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (isLoading </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#6A737D">      // esnure pokemon is not null</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (pokemon </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> bgColor;</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (pokemon.pokemonV2Pokemontypes </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> bgColor;</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (pokemon.pokemonV2Pokemontypes</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">.isEmpty) {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> bgColor;</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#F97583">      var</span><span style="color:#E1E4E8"> typeName </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pokemon.pokemonV2Pokemontypes</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">].pokemonV2Type</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">.name</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">      var</span><span style="color:#E1E4E8"> colors </span><span style="color:#F97583">=</span><span style="color:#B392F0"> getColorsFromType</span><span style="color:#E1E4E8">(typeName);</span></span>
<span class="line"><span style="color:#6A737D">      // update br color</span></span>
<span class="line"><span style="color:#E1E4E8">      bgColor </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> colors[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">].color</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> bgColor;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span></code></pre>
<p>These are several more helper functions in the _PokemonDetailsScreenState class: buildMetrics(), buildChart(), and getBgColor().</p>
<p>The buildMetrics() function appears to build a widget displaying the weight and height of a Pokémon. It first gets the weight and height from the pokemonDetails variable. If this variable is null or the weight or height fields are null, the function returns a CircularProgressIndicator widget to indicate that data is still being loaded. If the weight and height fields are not null, the function converts the values from hectograms to kilograms and meters, respectively, and creates and returns a Row widget containing two PokemonMetric widgets, which are passed the name of the metric (e.g. “weight”), the value of the metric as a string, and an icon.</p>
<p>The buildChart() function appears to build a bar chart widget displaying the base stats of a Pokémon. It first gets the list of stats from the pokemonDetails variable. If this variable is null or the stats field is null or empty, the function returns an empty Container widget. If the list of stats is not empty, the function maps over the list of stats and creates a list of PokemonBaseStat objects, which are passed the name of the stat and its base value. This list of objects is then passed to a BarChartWidget along with a background color, and the resulting widget is returned wrapped in a Column widget.</p>
<p>The getBgColor() function appears to get the background color for the widget based on the type of the Pokémon. It first gets the list of types for the Pokémon from the pokemon variable. If this variable is null or the list of types is null or empty, the function returns a default background color. If the list of types is not empty, the function gets the name of the first type in the list and calls the getColorsFromType() function to get a list of colors associated with that type. The function then returns the second color in the list as the background color.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="dart"><code><span class="line"><span style="color:#F97583">@override</span></span>
<span class="line"><span style="color:#79B8FF">Widget</span><span style="color:#B392F0"> build</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">BuildContext</span><span style="color:#E1E4E8"> context) {</span></span>
<span class="line"><span style="color:#6A737D">  // print pokemon id</span></span>
<span class="line"><span style="color:#6A737D">  // get color from type</span></span>
<span class="line"><span style="color:#F97583">  var</span><span style="color:#E1E4E8"> bgColor </span><span style="color:#F97583">=</span><span style="color:#B392F0"> getBgColor</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#79B8FF"> SafeArea</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">      child</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> Scaffold</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">          backgroundColor</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> bgColor,</span></span>
<span class="line"><span style="color:#E1E4E8">          body</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> isLoading</span></span>
<span class="line"><span style="color:#F97583">              ?</span><span style="color:#79B8FF"> Center</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                  child</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> CircularProgressIndicator</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">                )</span></span>
<span class="line"><span style="color:#F97583">              :</span><span style="color:#79B8FF"> Container</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                  width</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> MediaQuery</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">of</span><span style="color:#E1E4E8">(context).size.width </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                  height</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> MediaQuery</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">of</span><span style="color:#E1E4E8">(context).size.height </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                  child</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> Column</span><span style="color:#E1E4E8">(children</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#79B8FF">                    PokemonHeader</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                      pokemon</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> pokemon,</span></span>
<span class="line"><span style="color:#E1E4E8">                    ),</span></span>
<span class="line"><span style="color:#79B8FF">                    Flexible</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                        child</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> Container</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                            margin</span><span style="color:#F97583">:</span><span style="color:#B392F0"> getMargin</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                              bottom</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 4</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                            ),</span></span>
<span class="line"><span style="color:#E1E4E8">                            padding</span><span style="color:#F97583">:</span><span style="color:#B392F0"> getPadding</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                              left</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 20</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                              top</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 20</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                              right</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 20</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                              bottom</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                            ),</span></span>
<span class="line"><span style="color:#E1E4E8">                            decoration</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> AppDecoration</span><span style="color:#E1E4E8">.fillWhiteA700.</span><span style="color:#B392F0">copyWith</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                              borderRadius</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> BorderRadiusStyle</span><span style="color:#E1E4E8">.roundedBorder8,</span></span>
<span class="line"><span style="color:#E1E4E8">                            ),</span></span>
<span class="line"><span style="color:#E1E4E8">                            child</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> Container</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                                height</span><span style="color:#F97583">:</span></span>
<span class="line"><span style="color:#79B8FF">                                    MediaQuery</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">of</span><span style="color:#E1E4E8">(context).size.height </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                                width</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> MediaQuery</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">of</span><span style="color:#E1E4E8">(context).size.width </span><span style="color:#F97583">*</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                                padding</span><span style="color:#F97583">:</span><span style="color:#B392F0"> getPadding</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                                  left</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                                  top</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 8</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                                  right</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 10</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                                  bottom</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> 8</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">                                ),</span></span>
<span class="line"><span style="color:#E1E4E8">                                child</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> ListView</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                                  children</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#B392F0">                                    buildDescription</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#79B8FF">                                    PokemonTypes</span><span style="color:#E1E4E8">(pokemon</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> pokemon),</span></span>
<span class="line"><span style="color:#6A737D">                                    // add padding between types and metrics</span></span>
<span class="line"><span style="color:#79B8FF">                                    SizedBox</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                                      height</span><span style="color:#F97583">:</span><span style="color:#B392F0"> getVerticalSize</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">16</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">                                    ),</span></span>
<span class="line"><span style="color:#79B8FF">                                    Row</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                                      mainAxisAlignment</span><span style="color:#F97583">:</span></span>
<span class="line"><span style="color:#79B8FF">                                          MainAxisAlignment</span><span style="color:#E1E4E8">.spaceEvenly,</span></span>
<span class="line"><span style="color:#E1E4E8">                                      children</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#B392F0">                                        buildMetrics</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#B392F0">                                        buildAbilities</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">                                      ],</span></span>
<span class="line"><span style="color:#E1E4E8">                                    ),</span></span>
<span class="line"><span style="color:#B392F0">                                    buildChart</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#79B8FF">                                    SizedBox</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#E1E4E8">                                      height</span><span style="color:#F97583">:</span><span style="color:#B392F0"> getVerticalSize</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">64</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">                                    ),</span></span>
<span class="line"><span style="color:#E1E4E8">                                    </span></span>
<span class="line"><span style="color:#6A737D">                                    // base stats, draw one chart with fl chart grab data dynamically</span></span>
<span class="line"><span style="color:#E1E4E8">                                  ],</span></span>
<span class="line"><span style="color:#E1E4E8">                                ),</span></span>
<span class="line"><span style="color:#E1E4E8">                                )))</span></span>
<span class="line"><span style="color:#E1E4E8">                  ]))));</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>This is the build() method of the _PokemonDetailsScreenState class, which is responsible for building the user interface for the PokemonDetailsScreen widget.</p>
<p>The build() method first gets the background color for the widget by calling the getBgColor() function. It then returns a Scaffold widget with a white background, which contains a Column widget as its body. The Column widget has a PokemonHeader widget as its first child, and a Flexible widget as its second child. The Flexible widget has a Container as its child, which in turn has a ListView widget as its child. The ListView widget has several children, including the buildDescription(), PokemonTypes, buildMetrics(), buildAbilities(), and buildChart() functions, which build widgets displaying the description, types, metrics, abilities, and base stats of the Pokémon, respectively.</p>
<p>To view the full app visit the GitHub repository.</p>
<ul>
<li><a href="https://github.com/FriendlyUser/flutter_pokedex">https://github.com/FriendlyUser/flutter_pokedex</a></li>
</ul> </content></div></div></div></div> <div class="mx-auto max-w-screen-lg px-3 py-6"> <div class="no-print flex w-full"> <form class="max-w-lg" action="https://formspree.io/f/davidli012345@gmail.com" method="POST"><div class="-mx-3 mb-6 flex flex-wrap"><div class="mb-6 w-full px-3 md:mb-0 md:w-1/2"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-first-name">First Name</label><input class="mb-3 block w-full appearance-none rounded py-3 px-4 leading-tight text-gray-700 focus:bg-white focus:outline-none" id="grid-first-name" type="text" placeholder="Jane"/></div><div class="w-full px-3 md:w-1/2"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-last-name">Last Name</label><input class="block w-full appearance-none rounded border border-gray-200  py-3 px-4 leading-tight text-gray-700 focus:border-gray-500 focus:bg-white focus:outline-none" id="grid-last-name" type="text" placeholder="Doe"/></div></div><div class="-mx-3 mb-6 flex flex-wrap"><div class="w-full px-3"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-password">E-mail</label><input class="mb-3 block w-full appearance-none rounded border py-3 px-4 leading-tight text-gray-700 focus:border-gray-500 focus:bg-white focus:outline-none" id="email" type="email"/></div></div><div class="-mx-3 mb-6 flex flex-wrap"><div class="w-full px-3"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-password">Message</label><textarea class="no-resize mb-3 block h-48 w-full resize-none appearance-none rounded border border-gray-200 py-3 px-4 leading-tight text-gray-700 focus:border-gray-500 focus:bg-white focus:outline-none" id="message"></textarea></div></div><div class="md:flex md:items-center"><div class="md:w-1/3"><button class="ml-2 shrink-0 rounded-full bg-gradient-to-br from-sky-500 to-cyan-400 px-3 py-1 text-sm font-medium text-gray-700 hover:from-sky-700 hover:to-cyan-600 focus:outline-none focus:ring-2 focus:ring-cyan-600/50" type="submit">Send</button></div><div class="md:w-2/3"></div></div></form> <div class="ml-3 max-w-lg bg-slate-300"> <link href="/pagefind/pagefind-ui.css" rel="stylesheet"> <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script> <div id="search" class="ml-3 p-4"></div> <script type="module">window.addEventListener("DOMContentLoaded",e=>{setTimeout(()=>{new PagefindUI({element:"#search"})},2e3)});</script> </div> </div> </div>  </div> <div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print border-t border-gray-600 pt-5"><div class="text-sm text-gray-200">© Copyright <!-- -->2026<!-- --> by <!-- -->FriendlyUsers Tech Blog<!-- -->. Built with ♥ by<!-- --> <a class="text-cyan-400 hover:underline" href="https://github.com/FriendlyUser" target="_blank" rel="noopener noreferrer">FriendlyUser</a>. Last updated on <!-- -->2026-02-26<!-- -->.</div></div><script src="https://cdn.botpress.cloud/webchat/v0/inject.js"></script><script src="https://mediafiles.botpress.cloud/0df54034-3318-451a-aed0-3923a4ee25a5/webchat/config.js" defer=""></script></div> </body></html>