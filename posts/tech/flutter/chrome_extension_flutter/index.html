<!DOCTYPE html><html lang="en"><head><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>In this blog post I will show you to build a markdown viewer in Flutter. - Astro Tech Blog</title><meta name="description" content="For chatgpt usage, it is easier to view the prompts in a markdown viewer as a chrome extension."><meta name="author" content="David Li"><link rel="alternate" type="application/rss+xml" href="/rss.xml"><link rel="icon" type="image/x-icon" href="/favicon.ico"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2479144310234386" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119155027-6"></script><script type="text/javascript">
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        try {
          let i;
          let slides = document.getElementsByClassName('mySlides');
          let dots = document.getElementsByClassName('demo');
          let captionText = document.getElementById('caption');
          if (n > slides.length) {
            slideIndex = 1;
          }
          if (n < 1) {
            slideIndex = slides.length;
          }
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = 'none';
          }
          for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(' active', '');
          }
          slides[slideIndex - 1].style.display = 'block';
          dots[slideIndex - 1].className += ' active';
          captionText.innerHTML = dots[slideIndex - 1].alt;
        } catch (err) {
          // do nothing here
        }
      }
    </script><link rel="stylesheet" href="/_astro/index.fe829d41.css" />
<style type="text/css">@media print{.no-print,.no-print *{display:none!important}}
</style><script type="module" src="/_astro/hoisted.d5e551f8.js"></script></head><body class="bg-slate-900 text-gray-100"><div class="mx-auto max-w-screen-lg px-3 py-6"><div class="flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between"><a href="/"><div class="flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent"><svg class="mr-1 h-10 w-10 stroke-cyan-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M0 0h24v24H0z" stroke="none"></path><rect x="3" y="12" width="6" height="8" rx="1"></rect><rect x="9" y="8" width="6" height="12" rx="1"></rect><rect x="15" y="4" width="6" height="16" rx="1"></rect><path d="M4 20h14"></path></svg>David&#x27;s Blog</div></a><nav><ul class="flex gap-x-3 font-medium text-gray-200"><li class="hover:text-white"><a href="/posts">Blogs</a></li><li class="hover:text-white"><a href="https://github.com/FriendlyUser/astro-tech-blog">GitHub</a></li><li class="hover:text-white"><a href="/photos">Photos</a></li></ul></nav></div></div><div data-pagefind-body><div class="mx-auto max-w-screen-lg px-3 py-6"><div><h1 class="text-center text-3xl font-bold">In this blog post I will show you to build a markdown viewer in Flutter.</h1><div class="mt-2 text-center text-sm text-gray-400">By <!-- -->David Li<!-- --> on <!-- -->Fri, 7 July 2024</div><div class="flex place-content-center pt-2"><div class="rounded-md px-2 py-1 text-xs font-semibold bg-cyan-400 text-cyan-900"> <a href="/tags/chatgpt" style="padding-right:3px"> <category>chatgpt<!-- --> </category></a></div> <div class="rounded-md px-2 py-1 text-xs font-semibold bg-sky-400 text-sky-900"> <a href="/tags/flutter" style="padding-right:3px"> <category>flutter<!-- --> </category></a></div> </div><div class="mx-auto mt-5 max-w-prose"><div class="aspect-w-3 aspect-h-2"><img class="h-full w-full rounded-lg object-cover object-center" src="/imgs/2023/1028024527.png" loading="lazy"/></div><div class="prose prose-invert mt-8 prose-img:rounded-lg"><content><p>A Chrome extension is a small software program that adds new features to the Google Chrome web browser. Chrome extensions can modify and enhance the functionality of Chrome by adding or removing certain features, or by integrating with other web services or applications. Chrome extensions can be installed from the Chrome Web Store and can be managed and configured through the browser’s settings menu.</p>
<p>Flutter is a popular open-source framework for building high-performance mobile and web applications. However, building a Chrome extension in Flutter is not currently possible, as Flutter is primarily designed for building standalone mobile and web applications, rather than browser extensions.</p>
<p>To build a Chrome extension, you can use web development technologies like HTML, CSS, and JavaScript. You can also use popular JavaScript frameworks like React, Vue, or Angular to create more complex extensions.</p>
<p>To get started, you’ll need to create a manifest file that defines the structure and behavior of your extension, as well as any required permissions. You can then use JavaScript to create the user interface and implement the functionality of your extension.</p>
<p>Here’s a high-level overview of the steps involved in building a Chrome extension:</p>
<ol>
<li>Define the structure and behavior of your extension in a manifest file.</li>
<li>Create a popup or settings page for your extension using HTML and CSS.</li>
<li>Use JavaScript to implement the functionality of your extension, including any interactions with external APIs or services.</li>
<li>Test your extension and submit it to the Chrome Web Store for distribution.</li>
</ol>
<p>There are many resources available online to help you get started with building Chrome extensions, including the official Chrome Extension Developer Guide and various tutorials and code samples.</p>
<pre is:raw="" class="astro-code monokai" style="background-color: #272822; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F8F8F2"> import </span><span style="color: #E6DB74">'dart:async'</span><span style="color: #F8F8F2">; </span><span style="color: #88846F">// import Timer</span></span>
<span class="line"><span style="color: #F92672">import</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">'package:flutter/material.dart'</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #F92672">import</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">'package:flutter_markdown/flutter_markdown.dart'</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #F92672">import</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">'package:http/http.dart'</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">as</span><span style="color: #F8F8F2"> http;</span></span>
<span class="line"><span style="color: #88846F">// import clipboard from services</span></span>
<span class="line"><span style="color: #F92672">import</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">'package:flutter/services.dart'</span><span style="color: #F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">void</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">main</span><span style="color: #F8F8F2">() {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #A6E22E">runApp</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">MyApp</span><span style="color: #F8F8F2">());</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">class</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">MyApp</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">extends</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">StatefulWidget</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">@override</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">_MyAppState</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">createState</span><span style="color: #F8F8F2">() </span><span style="color: #F92672">=></span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">_MyAppState</span><span style="color: #F8F8F2">();</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">class</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">_MyAppState</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">extends</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">State</span><span style="color: #F8F8F2">&#x3C;</span><span style="color: #66D9EF; font-style: italic">MyApp</span><span style="color: #F8F8F2">> {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">String</span><span style="color: #F8F8F2"> _markdownData </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">""</span><span style="color: #F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">@override</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">void</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">initState</span><span style="color: #F8F8F2">() {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #FD971F">super</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">initState</span><span style="color: #F8F8F2">();</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #A6E22E">fetchMarkdownData</span><span style="color: #F8F8F2">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #88846F">// Schedule fetching markdown data again after 50 minutes</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">Timer</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">periodic</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">const</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Duration</span><span style="color: #F8F8F2">(minutes</span><span style="color: #F92672">:</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">50</span><span style="color: #F8F8F2">), (timer) {</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #A6E22E">fetchMarkdownData</span><span style="color: #F8F8F2">();</span></span>
<span class="line"><span style="color: #F8F8F2">    });</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">void</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">fetchMarkdownData</span><span style="color: #F8F8F2">() </span><span style="color: #F92672">async</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">try</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #F92672">final</span><span style="color: #F8F8F2"> response </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">await</span><span style="color: #F8F8F2"> http.</span><span style="color: #A6E22E">get</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Uri</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">parse</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">"https://raw.githubusercontent.com/FriendlyUser/chatgpt_prompts/main/README.md"</span><span style="color: #F8F8F2">));</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #A6E22E">setState</span><span style="color: #F8F8F2">(() {</span></span>
<span class="line"><span style="color: #F8F8F2">        _markdownData </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> response.body;</span></span>
<span class="line"><span style="color: #F8F8F2">      });</span></span>
<span class="line"><span style="color: #F8F8F2">    } </span><span style="color: #F92672">catch</span><span style="color: #F8F8F2"> (e) {</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #A6E22E">print</span><span style="color: #F8F8F2">(e);</span></span>
<span class="line"><span style="color: #F8F8F2">    }</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">@override</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">Widget</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">build</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">BuildContext</span><span style="color: #F8F8F2"> context) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">MaterialApp</span><span style="color: #F8F8F2">(</span></span>
<span class="line"><span style="color: #F8F8F2">      home</span><span style="color: #F92672">:</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Scaffold</span><span style="color: #F8F8F2">(</span></span>
<span class="line"><span style="color: #F8F8F2">        appBar</span><span style="color: #F92672">:</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">AppBar</span><span style="color: #F8F8F2">(</span></span>
<span class="line"><span style="color: #F8F8F2">          title</span><span style="color: #F92672">:</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Text</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">"ChatGpt Prompt Viewer"</span><span style="color: #F8F8F2">),</span></span>
<span class="line"><span style="color: #F8F8F2">        ),</span></span>
<span class="line"><span style="color: #F8F8F2">        body</span><span style="color: #F92672">:</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Markdown</span><span style="color: #F8F8F2">(</span></span>
<span class="line"><span style="color: #F8F8F2">              data</span><span style="color: #F92672">:</span><span style="color: #F8F8F2"> _markdownData,</span></span>
<span class="line"><span style="color: #F8F8F2">              selectable</span><span style="color: #F92672">:</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">true</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">              </span><span style="color: #88846F">// onTapLink: (text, href, title) {</span></span>
<span class="line"><span style="color: #F8F8F2">              </span><span style="color: #88846F">//   Clipboard.setData(ClipboardData(text: text));</span></span>
<span class="line"><span style="color: #F8F8F2">              </span><span style="color: #88846F">// },</span></span>
<span class="line"><span style="color: #F8F8F2">        ),</span></span>
<span class="line"><span style="color: #F8F8F2">      ),</span></span>
<span class="line"><span style="color: #F8F8F2">    );</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">} </span></span></code></pre>
<p>The code above is a Flutter application that fetches Markdown data from a remote server and displays it in a widget. The app is also set up to periodically fetch the data again after a certain time interval.</p>
<p>The <code>main()</code> function initializes the application by calling <code>runApp()</code> with an instance of the <code>MyApp</code> widget. The <code>MyApp</code> widget is a <code>StatefulWidget</code>, which means it has mutable state that can change over time.</p>
<p>The <code>fetchMarkdownData()</code> function is an asynchronous function that uses the <code>http</code> package to fetch Markdown data from a remote server. Once the data has been fetched, it updates the <code>_markdownData</code> state variable using <code>setState()</code>. If an error occurs during the fetch process, it is printed to the console.</p>
<p>The <code>_MyAppState</code> class is the state object associated with the <code>MyApp</code> widget. In its <code>initState()</code> method, it calls <code>fetchMarkdownData()</code> to initialize the <code>_markdownData</code> state variable. It also sets up a <code>Timer</code> to periodically call <code>fetchMarkdownData()</code> again every 50 minutes.</p>
<p>In the <code>build()</code> method of the <code>_MyAppState</code> class, the <code>_markdownData</code> state variable is passed to a <code>Markdown</code> widget, which displays the Markdown data in a scrollable view. The <code>selectable</code> property is set to <code>true</code>, which allows the user to select and copy text from the Markdown view.</p>
<p>Note that the code includes commented-out code to handle tapping on links in the Markdown view, but it is currently disabled. The commented-out code uses the <code>clipboard</code> package to copy the link text to the device clipboard when a link is tapped.</p>
<p>To install a Chrome extension from a bundle, follow these steps:</p>
<ol>
<li>Download the extension bundle: This will typically be a <code>.crx</code> or <code>.zip</code> file. You can download the bundle from the developer’s website or from a third-party source.</li>
<li>Extract the extension files: If the bundle is a <code>.zip</code> file, you can extract its contents using a program like WinZip or 7-Zip. If it’s a <code>.crx</code> file, you can change the file extension to <code>.zip</code> and then extract the contents.</li>
<li>Open the Chrome extensions page: In the Chrome browser, click on the three-dot menu icon in the upper-right corner and select “More tools” > “Extensions”. Alternatively, you can type <code>chrome://extensions/</code> in the address bar.</li>
<li>Enable developer mode: In the top right corner of the extensions page, toggle the “Developer mode” switch to the “On” position.</li>
<li>Click “Load unpacked”: This button should now be visible on the extensions page. Click it and select the folder that contains the extracted extension files.</li>
<li>Confirm installation: Once you’ve selected the folder, the extension should be installed and listed on the extensions page. If you see any errors or warnings, review the manifest file for the extension and ensure that it meets the requirements for Chrome extensions.</li>
</ol>
<p>Note that installing an extension from a bundle that is not from a trusted source can be risky, as it may contain malware or other harmful code. Always be cautious when downloading and installing extensions from third-party sources, and only install extensions from trusted developers and sources.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://raw.githubusercontent.com/FriendlyUser/chatgpt_chrome_extension/main/lib/main.dart">https://raw.githubusercontent.com/FriendlyUser/chatgpt_chrome_extension/main/lib/main.dart</a></li>
</ul></content></div></div></div></div><div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print flex w-full"><form class="max-w-lg" action="https://formspree.io/f/davidli012345@gmail.com" method="POST"><div class="-mx-3 mb-6 flex flex-wrap"><div class="mb-6 w-full px-3 md:mb-0 md:w-1/2"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-first-name">First Name</label><input class="mb-3 block w-full appearance-none rounded py-3 px-4 leading-tight text-gray-700 focus:bg-white focus:outline-none" id="grid-first-name" type="text" placeholder="Jane"/></div><div class="w-full px-3 md:w-1/2"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-last-name">Last Name</label><input class="block w-full appearance-none rounded border border-gray-200  py-3 px-4 leading-tight text-gray-700 focus:border-gray-500 focus:bg-white focus:outline-none" id="grid-last-name" type="text" placeholder="Doe"/></div></div><div class="-mx-3 mb-6 flex flex-wrap"><div class="w-full px-3"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-password">E-mail</label><input class="mb-3 block w-full appearance-none rounded border py-3 px-4 leading-tight text-gray-700 focus:border-gray-500 focus:bg-white focus:outline-none" id="email" type="email"/></div></div><div class="-mx-3 mb-6 flex flex-wrap"><div class="w-full px-3"><label class="mb-2 block text-xs font-bold uppercase tracking-wide" for="grid-password">Message</label><textarea class="no-resize mb-3 block h-48 w-full resize-none appearance-none rounded border border-gray-200 py-3 px-4 leading-tight text-gray-700 focus:border-gray-500 focus:bg-white focus:outline-none" id="message"></textarea></div></div><div class="md:flex md:items-center"><div class="md:w-1/3"><button class="ml-2 shrink-0 rounded-full bg-gradient-to-br from-sky-500 to-cyan-400 px-3 py-1 text-sm font-medium text-gray-700 hover:from-sky-700 hover:to-cyan-600 focus:outline-none focus:ring-2 focus:ring-cyan-600/50" type="submit">Send</button></div><div class="md:w-2/3"></div></div></form><div class="ml-3 max-w-lg bg-slate-300"><link href="/_pagefind/pagefind-ui.css" rel="stylesheet"><script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script><div id="search" class="ml-3 p-4"></div></div></div></div></div><div class="mx-auto max-w-screen-lg px-3 py-6"><div class="no-print border-t border-gray-600 pt-5"><div class="text-sm text-gray-200">© Copyright <!-- -->2023<!-- --> by <!-- -->Astro Tech Blog<!-- -->. Built with ♥ by<!-- --> <a class="text-cyan-400 hover:underline" href="https://github.com/FriendlyUser" target="_blank" rel="noopener noreferrer">FriendlyUser</a>. Last updated on <!-- -->2023-11-13<!-- -->.</div></div><script src="https://cdn.botpress.cloud/webchat/v0/inject.js"></script><script src="https://mediafiles.botpress.cloud/0df54034-3318-451a-aed0-3923a4ee25a5/webchat/config.js" defer=""></script></div></body></html>